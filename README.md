## Домашнее задание к занятию «Микросервисы: принципы»

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры. Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

### Задача 1: API Gateway

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:

- маршрутизация запросов к нужному сервису на основе конфигурации

- возможность проверки аутентификационной информации в запросах

- обеспечение терминации HTTPS

Обоснуйте свой выбор.

 - - - - - - - - - - - - - - - - 

### Решение:

![1](https://github.com/Ivan-Shkutov/microservices_02_principles/blob/main/11.png)

Выбор решения и обоснование

Kong (Community / Enterprise)

✔ покрывает все три требования: маршрутизация по конфигурации, проверка аутентификационной информации (JWT/OIDC/API key, внешняя auth), TLS-терминация. 

✔ гибкая экосистема плагинов: можно быстро подключить rate-limit, request-transform, logging, IP-restriction, интеграции с IdP. Это снижает время разработки кастомных модулей. 

✔ поддержка развёртывания как в k8s (Kong Ingress Controller), так и вне k8s (VMs, bare metal) — подходит для смешанных ландшафтов. Это даёт выбор и простую миграцию. 

✔ Еnterprise-функции при необходимости: централизованная панель управления, RBAC, улучшенные политики безопасности и SLA (если понадобятся)

 - - - - - - - - - - - - - - - - 

### Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:

- поддержка кластеризации для обеспечения надёжности

- хранение сообщений на диске в процессе доставки

- высокая скорость работы

- поддержка различных форматов сообщений

- разделение прав доступа к различным потокам сообщений

- простота эксплуатации

Обоснуйте свой выбор.

 - - - - - - - - - - - - - - - - 

### Решение:

![2](https://github.com/Ivan-Shkutov/microservices_02_principles/blob/main/12.png)

Выбор решения и обоснование 

NATS JetStream

✔ Кластеризация лёгкая, без сложных внешних зависимостей

✔ Очень высокая скорость — сопоставима или выше, чем Kafka, для микросервисных нагрузок

✔ Хранение сообщений на диске + репликация

✔ Минимальная операционная сложность (в отличие от Kafka/Pulsar)

✔ Поддерживает любые форматы сообщений

✔ Есть разделение доступа (accounts / subjects permissions)

✔ Нативно подходит для микросервисов и cloud-native архитектуры



 - - - - - - - - - - - - - - - - 
